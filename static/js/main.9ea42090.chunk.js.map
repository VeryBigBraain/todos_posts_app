{"version":3,"sources":["components/UI/inputs/MyInput.module.css","components/UI/buttons/MyButton.module.css","components/UI/select/MySelect.module.css","components/Pages/PostsPage/FilterPosts/FilterPosts.module.css","components/Navbar/Navbar.jsx","hooks/useItems.js","API/serviceAPI.jsx","hooks/useFetching.jsx","context.js","reducers/todo-reducer.js","components/UI/inputs/MyInput.jsx","components/UI/buttons/MyButton.jsx","components/Pages/TodosPage/AddTodoForm/AddTodoForm.jsx","components/UI/select/MySelect.jsx","components/Pages/TodosPage/FilterTodo/FilterTodo.jsx","components/common/ItemsList/ItemsList.jsx","components/UI/MyModal/MyModal.jsx","components/Pages/TodosPage/TodoItem/TodoModal/TodoModal.jsx","components/UI/Loader/Loader.jsx","components/Pages/TodosPage/TodoItem/TodoItem.jsx","components/Pages/TodosPage/TodosPage.jsx","components/Pages/TodosPage/TodosPageContainer.jsx","selectors/todo-selector.js","components/Pages/PostsPage/PostPage/CommentsList/CommentsList.jsx","components/Pages/PostsPage/PostPage/PostPage.jsx","utils/pages.js","reducers/post-reducer.js","components/Pages/PostsPage/PostItem/PostItem.jsx","components/Pages/PostsPage/FilterPosts/FilterPosts.jsx","components/Pages/PostsPage/PostsPage.jsx","components/Pages/PostsPage/PostsPageContainer.jsx","selectors/post-selector.js","hooks/useObserver.jsx","components/Pages/NoPage/NoPage.jsx","router/routes.js","components/Pages/Pages.jsx","store/store.js","App.js","reportWebVitals.js","index.js","components/Pages/TodosPage/TodoItem/TodoItem.module.css","components/Navbar/Navbar.module.css","components/Pages/PostsPage/PostPage/PostPage.module.css","components/UI/MyModal/MyModal.module.css","components/Pages/PostsPage/PostsPage.module.css","components/Pages/PostsPage/PostItem/PostItem.module.css","components/Pages/TodosPage/TodosPage.module.css","components/Pages/TodosPage/TodoItem/TodoModal/TodoModal.module.css","components/Pages/PostsPage/PostPage/CommentsList/CommentsList.module.css","components/Pages/TodosPage/AddTodoForm/AddTodoForm.module.css","components/Pages/TodosPage/FilterTodo/FilterTodo.module.css","components/common/ItemsList/ItemsList.module.css"],"names":["module","exports","Navbar","className","cl","header","appLogo","nav","nav__list","nav__item","nav__link","to","useSortedTodos","todos","selectVal","useMemo","filter","todo","completed","instance","axios","create","baseURL","itemsAPI","itemsName","limit","page","get","params","_limit","_page","response","postAPI","id","data","todoAPI","post","delete","key","useFetching","callback","useState","isLoading","setIsLoading","error","setError","fetching","a","message","todoContext","React","createContext","postContext","SET_TODOS","SET_SEARCH_VAL","SET_SORT_VAL","todoReducer","state","action","type","searchVal","sortVal","MyInput","value","setValue","label","errorText","required","props","TextField","myInput","onChange","e","target","variant","length","helperText","MyButton","children","customStyle","color","fontSize","size","args","Button","onClick","preventDefault","onSubmit","myBtn","fullWidth","sx","AddTodoForm","userId","isCreateLoading","todoVal","setTodoVal","validationErr","setValidationErr","addTodo","form","placeholder","name","btnContainer","trim","newTodo","Date","now","title","disabled","MySelect","options","defaultValue","Select","mySelect","MenuItem","map","option","FilterTodo","setSortVal","setSearchVal","filterTodo","textfield","ItemsList","items","Component","isListLoading","TransitionGroup","item","index","CSSTransition","in","classNames","timeout","noItems","MyModal","active","setActive","modal","modal_active","modalContent","modalContent_active","stopPropagation","TodoModal","forwardRef","ref","activeModal","setActiveModal","modalValue","setModalValue","saveEditTodo","modalInputContainer","inputRef","modalInput","modalBtns","Loader","width","height","TodoItem","deleteTodo","updateTodo","useRef","fetchUpdate","isUpdateLoading","fetchDelete","isDeleteLoading","useEffect","current","todo__body","todo__content","buttons","todo__loading","completeBtn","editBtn","focus","deleteBtn","TodosPage","fetchCreate","isTodoCreateLoading","searchedSortedTodos","setTodos","createTodo","todos__page","todos__content","form__header","todos__loader","todos__list","TodosPageContainer","useContext","dispatch","getTodos","getSearchVal","getSortVal","getUserId","sortItem","sortedItems","toLowerCase","includes","useItemsList","setTodosAC","editingTodo","editedTodos","indexTodo","findIndex","splice","setSortValAC","setSearchValAC","CommentsList","comments","isComLoading","comments__container","com","comment","email","comment__body","body","PostPage","router","useHistory","useParams","setPost","setComments","getPostById","fetchPostById","getComments","fetchComments","post__page","post__header","post__content","post__title","post__body","comments__header","goBack","getPagesCount","totalCount","Math","ceil","ADD_POSTS","SET_TOTAL_PAGES","SET_PAGE","postReducer","posts","newPosts","totalPages","PostItem","post__number","btn__container","push","FilterPosts","filter__post","PostsPage","postsError","isPostsLoading","sortedPosts","lastElement","posts__page","form__title","filter__container","posts__container","observer","PostsPageContainer","getPosts","getTotalPages","getLimit","getPage","addPosts","setTotalPages","pagesCount","setTotalPagesAC","setPage","setPageAC","sort","b","toString","localeCompare","useSortedPosts","getAllItems","headers","fetchPosts","canLoad","cb","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","NoPage","routes","path","component","exact","Pages","route","render","store","theme","createTheme","palette","primary","main","warning","App","useReducer","todoState","todoDispatch","postState","postDispatch","Provider","app","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9ea42090.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__3QEiE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__2HKCp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mySelect\":\"MySelect_mySelect__3QeZt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter__post\":\"FilterPosts_filter__post__r9zNj\"};","import cl from './Navbar.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <header className={cl.header}>\r\n      <div className={cl.appLogo}>Todos</div>\r\n      <nav className={cl.nav}>\r\n        <ul className={cl.nav__list}>\r\n          <li className={cl.nav__item}>\r\n            <Link className={cl.nav__link} to=\"/\">\r\n              Home\r\n            </Link>\r\n          </li>\r\n          <li className={cl.nav__item}>\r\n            <Link className={cl.nav__link} to=\"/posts\">\r\n              Posts\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import { useMemo } from 'react';\r\n\r\nexport const useSortedTodos = (todos, selectVal) => {\r\n  const sortedTodos = useMemo(() => {\r\n    switch (selectVal) {\r\n      case 'completed':\r\n        return todos.filter((todo) => todo.completed);\r\n      case 'uncompleted':\r\n        return todos.filter((todo) => !todo.completed);\r\n      default:\r\n        return todos;\r\n    }\r\n  }, [todos, selectVal]);\r\n\r\n  return sortedTodos;\r\n};\r\n\r\nexport const useSortedPosts = (posts, sortVal) => {\r\n  const sortedPost = useMemo(() => {\r\n    const sortedPosts = [...posts];\r\n    sortedPosts.sort((a, b) => {\r\n      return (typeof(a[sortVal]) === 'number') \r\n        ? a[sortVal] > b[sortVal] \r\n        : a[sortVal].toString().localeCompare(b[sortVal].toString()\r\n      )});\r\n\r\n    return sortedPosts;\r\n  }, [posts, sortVal]);\r\n  \r\n  return sortedPost;\r\n};\r\n\r\nexport const useItemsList = (items, sortVal, searchVal, sortItem) => {\r\n  const sortedItems = sortItem(items, sortVal);\r\n\r\n  const searchedSortedItems = useMemo(() => {\r\n    return sortedItems.filter((item) =>\r\n      item.title.toLowerCase().includes(searchVal)\r\n    );\r\n  }, [sortedItems, searchVal]);\r\n\r\n  return searchedSortedItems;\r\n};\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://jsonplaceholder.typicode.com/',\r\n});\r\n\r\nexport class itemsAPI {\r\n  static async getAllItems(itemsName, limit = 10, page = 1) {\r\n    const response = await instance.get(`${itemsName}`, {\r\n      params: {\r\n        _limit: limit,\r\n        _page: page,\r\n      }\r\n    });\r\n    return response;\r\n  }\r\n}\r\n\r\nexport class postAPI {\r\n  static async getPostById(id) {\r\n    const response = await instance.get('posts/' + id);\r\n    return response.data;\r\n  }\r\n\r\n  static async getComments(id) {\r\n    const response = await instance.get(`posts/${id}/comments`);\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport class todoAPI {\r\n  static async createTodo(todo) {\r\n    const response = await instance.post('todos/', todo);\r\n    return response;\r\n  }\r\n\r\n  static async deleteTodo(id) {\r\n    const response = await instance.delete('todos/' + id);\r\n    return response;\r\n  }\r\n\r\n  static async updateTodo(todo, key) {\r\n    const response = await instance.delete('todos/' + todo.id, {[key]: todo[key]});\r\n    return response;\r\n  }\r\n}","import { useState } from 'react';\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const fetching = async (...args) => {\r\n    try {\r\n      setIsLoading(true);\r\n      await callback(...args);\r\n    } catch (e) {\r\n      setError(e.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  return [fetching, isLoading, error];\r\n}","import React from 'react';\r\n\r\nexport const todoContext = React.createContext();\r\n\r\nexport const postContext = React.createContext();\r\n","const SET_TODOS = 'SET_TODOS';\r\nconst SET_SEARCH_VAL = 'SET_SEARCH_VAL';\r\nconst SET_SORT_VAL = 'SET_SORT_VAL';\r\n\r\nexport const todoReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SET_TODOS:\r\n      return {\r\n        ...state,\r\n        todos: action.todos,\r\n      }\r\n    case SET_SEARCH_VAL:\r\n      return {\r\n        ...state,\r\n        searchVal: action.searchVal,\r\n      }\r\n    case SET_SORT_VAL:\r\n      return {\r\n        ...state,\r\n        sortVal: action.sortVal,\r\n      }\r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setTodosAC = (todos) => ({type: SET_TODOS, todos});\r\nexport const setSearchValAC = (searchVal) => ({type: SET_SEARCH_VAL, searchVal});\r\nexport const setSortValAC = (sortVal) => ({type: SET_SORT_VAL, sortVal});","import cl from './MyInput.module.css';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nconst MyInput = ({value, setValue, label, errorText = false, required = false, ...props}) => {\r\n\r\n  return (\r\n    <TextField className={cl.myInput} \r\n      type=\"text\" \r\n      onChange={(e) => setValue(e.target.value)} \r\n      value={value}\r\n      label={label}\r\n      variant=\"standard\"\r\n      error = {!!errorText.length}\r\n      helperText = {errorText}\r\n      required={required}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport default MyInput;","import cl from './MyButton.module.css';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst MyButton = ({\r\n  children,\r\n  callback,\r\n  customStyle = {},\r\n  color = 'primary',\r\n  fontSize = 'small',\r\n  size = 'small',\r\n  variant = 'outlined',\r\n  args = [],\r\n  ...props\r\n}) => {\r\n\r\n  const onSubmit = (e, args) => {\r\n    e.preventDefault();\r\n    callback(...args);\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      type=\"submit\"\r\n      onClick={(e) => onSubmit(e, args)}\r\n      {...props}\r\n      className={cl.myBtn}\r\n      variant={variant}\r\n      color={color}\r\n      size={size}\r\n      fullWidth\r\n      sx={customStyle}\r\n    >\r\n      {children}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default MyButton;\r\n","import cl from './AddTodoForm.module.css';\r\nimport MyInput from './../../../UI/inputs/MyInput';\r\nimport MyButton from './../../../UI/buttons/MyButton';\r\nimport { useState } from 'react';\r\n\r\nconst AddTodoForm = ({ create, userId, isCreateLoading }) => {\r\n  const [todoVal, setTodoVal] = useState('');\r\n  const [validationErr, setValidationErr] = useState('');\r\n\r\n  const addTodo = () => {\r\n    if (todoVal.trim() !== '') {\r\n      const newTodo = { id: Date.now(), title: todoVal, completed: false, userId };\r\n      create(newTodo);\r\n      setTodoVal('');\r\n    } else {\r\n      setValidationErr('Please, write your todo here!')\r\n    }\r\n  };\r\n\r\n  const onChangeTodoVal = (e) => {\r\n    setTodoVal(e);\r\n    setValidationErr('');\r\n  }\r\n\r\n  return (\r\n    <div className={cl.addTodo}>\r\n      <form onSubmit={(e) => e.preventDefault()} className={cl.form}>\r\n        <MyInput\r\n          placeholder=\"Let's do it!\"\r\n          name=\"add-input\"\r\n          value={todoVal}\r\n          setValue={onChangeTodoVal}\r\n          label=\"Add todo\"\r\n          errorText= {validationErr}\r\n        />\r\n        <div className={cl.btnContainer}>\r\n          <MyButton name=\"btn\" callback={addTodo} disabled={isCreateLoading}>\r\n            Add\r\n          </MyButton>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTodoForm;\r\n","import cl from './MySelect.module.css';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst MySelect = ({options, defaultValue, callback, ...props }) => {\r\n  return (\r\n    <Select \r\n      onChange={(e) => callback(e.target.value)}\r\n      {...props}\r\n      className={cl.mySelect}\r\n      size=\"small\"\r\n    >\r\n      <MenuItem disabled value=\"\">{defaultValue}</MenuItem>\r\n      {options.map(option => \r\n        <MenuItem key={option.value} value={option.value}>\r\n          {option.name}\r\n        </MenuItem>\r\n      )}\r\n    </Select>\r\n  )\r\n};\r\n\r\nexport default MySelect;\r\n","import cl from './FilterTodo.module.css';\r\nimport MySelect from './../../../UI/select/MySelect';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst FilterTodo = ({\r\n  setSortVal,\r\n  sortVal,\r\n  searchVal,\r\n  setSearchVal,\r\n}) => {\r\n  return (\r\n    <div className={cl.filterTodo}>\r\n        <TextField\r\n          label=\"Search\"\r\n          variant=\"outlined\"\r\n          value={searchVal}\r\n          onChange={(e) => setSearchVal(e.target.value)}\r\n          name=\"search-input\"\r\n          placeholder=\"Todo...\"\r\n          size=\"small\"\r\n          className={cl.textfield}\r\n        />\r\n      <MySelect\r\n        defaultValue=\"Status of todo:\"\r\n        options={[\r\n          { value: 'all', name: 'all' },\r\n          { value: 'completed', name: 'completed' },\r\n          { value: 'uncompleted', name: 'uncompleted' },\r\n        ]}\r\n        callback={setSortVal}\r\n        name=\"select\"\r\n        value={sortVal}\r\n      >\r\n      </MySelect>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterTodo;\r\n","import cl from \"./ItemsList.module.css\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport '../../../index.css';\r\n\r\nconst ItemsList = ({\r\n  items,\r\n  Component,\r\n  itemsName,\r\n  isListLoading = false,\r\n  ...props\r\n}) => {\r\n  if (!items.length && !isListLoading) {\r\n    return <div className={cl.noItems}> There is no {itemsName}! </div>;\r\n  }\r\n\r\n  return (\r\n    <div className={cl.items}>\r\n      <TransitionGroup>\r\n        {items.map((item, index) => (\r\n          <CSSTransition\r\n            in={!!items.length}\r\n            key={item.id}\r\n            classNames=\"item\"\r\n            timeout={350}\r\n          >\r\n            <Component key={item.id} item={item} index={index} {...props} />\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemsList;\r\n","import cl from './MyModal.module.css';\r\n\r\nconst MyModal = ({ active, setActive, children }) => {\r\n  return (\r\n    <div\r\n      className={active ? `${cl.modal} ${cl.modal_active}` : cl.modal}\r\n      onClick={() => setActive(false)}\r\n    >\r\n      <div\r\n        className={active ? `${cl.modalContent} ${cl.modalContent_active}` : cl.modalContent}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyModal;\r\n","import React from 'react';\r\nimport cl from './TodoModal.module.css';\r\nimport MyModal from './../../../../UI/MyModal/MyModal';\r\nimport MyButton from './../../../../UI/buttons/MyButton';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst TodoModal = React.forwardRef(\r\n  (\r\n    {\r\n      activeModal,\r\n      setActiveModal,\r\n      modalValue,\r\n      setModalValue,\r\n      saveEditTodo,\r\n      todo,\r\n      isLoading,\r\n    },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <div>\r\n        <MyModal active={activeModal} setActive={setActiveModal}>\r\n          <div className={cl.modal}>\r\n            <div className={cl.modalInputContainer}>\r\n              <TextField\r\n                inputRef={ref}\r\n                value={modalValue}\r\n                type=\"text\"\r\n                label=\"Edit\"\r\n                variant=\"standard\"\r\n                onChange={(e) => setModalValue(e.target.value)}\r\n                className={cl.modalInput}\r\n              />\r\n            </div>\r\n            <div className={cl.modalBtns}>\r\n              <div>\r\n                <MyButton\r\n                  callback={saveEditTodo}\r\n                  args={[{ ...todo, title: modalValue }, 'title']}\r\n                  disabled={isLoading}\r\n                >\r\n                  Save\r\n                </MyButton>\r\n              </div>\r\n              <div>\r\n                <MyButton callback={setActiveModal} args={[false]}>\r\n                  Exit\r\n                </MyButton>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </MyModal>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default TodoModal;\r\n","import cl from './Loader.module.css';\r\nimport BibleLoader from \"react-loader-spinner\";\r\n\r\nconst Loader = ({width = 100, height = 100}) => {\r\n  return (\r\n    <BibleLoader\r\n        type=\"ThreeDots\"\r\n        color=\"#fe6323\"\r\n        height={height}\r\n        width={width}\r\n        timeout={-1} //3 secs\r\n      />\r\n  )\r\n}\r\n\r\nexport default Loader;","import cl from \"./TodoItem.module.css\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport MyButton from \"./../../../UI/buttons/MyButton\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport TodoModal from \"./TodoModal/TodoModal\";\r\nimport Loader from \"./../../../UI/Loader/Loader\";\r\nimport { useFetching } from \"./../../../../hooks/useFetching\";\r\n\r\nconst TodoItem = ({ item, index, deleteTodo, updateTodo }) => {\r\n  const todo = { ...item };\r\n  let inputRef = useRef();\r\n  const [activeModal, setActiveModal] = useState(false);\r\n  const [modalValue, setModalValue] = useState(todo.title);\r\n  const [fetchUpdate, isUpdateLoading] = useFetching(updateTodo);\r\n  const [fetchDelete, isDeleteLoading] = useFetching(deleteTodo);\r\n\r\n  const callModal = () => {\r\n    setActiveModal(true);\r\n    inputRef.current.focus();\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => (inputRef.current = null);\r\n  }, []);\r\n\r\n  return (\r\n    <div key={todo.id} className={cl.todo}>\r\n      <TodoModal\r\n        activeModal={activeModal}\r\n        setActiveModal={setActiveModal}\r\n        modalValue={modalValue}\r\n        setModalValue={setModalValue}\r\n        saveEditTodo={fetchUpdate}\r\n        isLoading={isUpdateLoading}\r\n        todo={todo}\r\n        ref={inputRef}\r\n      />\r\n      <div className={cl.todo__body}>\r\n        <div\r\n          className={`${todo.completed && cl.completed} ${cl.todo__content}`}\r\n        >\r\n          {todo.title}\r\n        </div>\r\n        <div className={cl.buttons}>\r\n          <span className={cl.todo__loading}>\r\n            {(isUpdateLoading || isDeleteLoading) && (\r\n              <Loader height=\"20\" width=\"40\" />\r\n            )}\r\n          </span>\r\n          <MyButton\r\n            disabled={isUpdateLoading}\r\n            className={cl.completeBtn}\r\n            args={[{ ...todo, completed: !todo.completed }, \"completed\"]}\r\n            callback={fetchUpdate}\r\n            variant=\"contained\"\r\n            customStyle={{ color: \"#fff\" }}\r\n          >\r\n            <DoneIcon />\r\n          </MyButton>\r\n          <MyButton\r\n            className={cl.editBtn}\r\n            callback={callModal}\r\n            variant=\"contained\"\r\n            disabled={isUpdateLoading}\r\n            customStyle={{ color: \"#fff\" }}\r\n          >\r\n            <EditIcon />\r\n          </MyButton>\r\n          <MyButton\r\n            disabled={isDeleteLoading}\r\n            className={cl.deleteBtn}\r\n            args={[todo.id]}\r\n            callback={fetchDelete}\r\n            variant=\"contained\"\r\n            color=\"warning\"\r\n          >\r\n            <ClearIcon />\r\n          </MyButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import AddTodoForm from './AddTodoForm/AddTodoForm';\r\nimport FilterTodo from './FilterTodo/FilterTodo';\r\nimport cl from './TodosPage.module.css';\r\nimport ItemsList from './../../common/ItemsList/ItemsList';\r\nimport TodoItem from './TodoItem/TodoItem';\r\nimport Loader from './../../UI/Loader/Loader';\r\n\r\n\r\nconst TodosPage = ({\r\n  fetchCreate,\r\n  isTodoCreateLoading,\r\n  searchedSortedTodos,\r\n  setTodos,\r\n  setSortVal,\r\n  sortVal,\r\n  setSearchVal,\r\n  searchVal,\r\n  createTodo,\r\n  updateTodo,\r\n  deleteTodo,\r\n  userId\r\n}) => {\r\n  return (\r\n    <div className={cl.todos__page}>\r\n      <div className={cl.todos__content}>\r\n        <h2 className={cl.form__header}>Add new todo</h2>\r\n        <AddTodoForm\r\n          create={fetchCreate}\r\n          userId={userId}\r\n          isCreateLoading={isTodoCreateLoading}\r\n        />\r\n        <FilterTodo\r\n          setSortVal={setSortVal}\r\n          searchVal={searchVal}\r\n          setSearchVal={setSearchVal}\r\n          sortVal={sortVal}\r\n        />\r\n        <span className={cl.todos__loader}>\r\n          {isTodoCreateLoading && <Loader width=\"50\" height=\"30\" />}\r\n        </span>\r\n        <div className={cl.todos__list}>\r\n          <ItemsList\r\n            items={searchedSortedTodos}\r\n            updateTodo={updateTodo}\r\n            deleteTodo={deleteTodo}\r\n            Component={TodoItem}\r\n            itemsName=\"todos\"\r\n            isListLoading={isTodoCreateLoading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodosPage;\r\n","import { useContext } from 'react';\r\nimport { useSortedTodos, useItemsList } from './../../../hooks/useItems';\r\nimport { todoAPI } from './../../../API/serviceAPI';\r\nimport { useFetching } from './../../../hooks/useFetching';\r\nimport { todoContext } from './../../../context';\r\nimport { setTodosAC, setSortValAC, setSearchValAC } from './../../../reducers/todo-reducer';\r\nimport { getTodos, getSearchVal, getSortVal,  getUserId } from './../../../selectors/todo-selector';\r\nimport TodosPage from './TodosPage';\r\n\r\nconst TodosPageContainer = () => {\r\n  const [state, dispatch] = useContext(todoContext);\r\n\r\n  const todos = getTodos(state);\r\n  const searchVal = getSearchVal(state);\r\n  const sortVal = getSortVal(state);\r\n  const userId = getUserId(state);\r\n\r\n  const [fetchCreate, isTodoCreateLoading] = useFetching(createTodo);\r\n  const searchedSortedTodos = useItemsList(\r\n    todos,\r\n    sortVal,\r\n    searchVal,\r\n    useSortedTodos\r\n  );\r\n\r\n  const setTodos = (todos) => dispatch(setTodosAC(todos));\r\n  const setSortVal = (sortVal) => dispatch(setSortValAC(sortVal));\r\n  const setSearchVal = (searchVal) => dispatch(setSearchValAC(searchVal));\r\n\r\n  async function createTodo(newTodo) {\r\n    await todoAPI.createTodo(newTodo);\r\n    setTodos([...todos, newTodo]);\r\n  }\r\n\r\n  async function updateTodo(editingTodo, key) {\r\n    await todoAPI.updateTodo(editingTodo, key);\r\n    const editedTodos = [...todos];\r\n    const indexTodo = editedTodos.findIndex(\r\n      (todo) => todo.id === editingTodo.id\r\n    );\r\n    editedTodos.splice(indexTodo, 1, editingTodo);\r\n    setTodos(editedTodos);\r\n  }\r\n\r\n  async function deleteTodo(id) {\r\n    await todoAPI.deleteTodo(id);\r\n    setTodos(todos.filter((todo) => todo.id !== id));\r\n  }\r\n\r\n  return (\r\n    <TodosPage\r\n      fetchCreate={fetchCreate}\r\n      isTodoCreateLoading={isTodoCreateLoading}\r\n      searchedSortedTodos={searchedSortedTodos}\r\n      setTodos={setTodos}\r\n      setSortVal={setSortVal}\r\n      sortVal={sortVal}\r\n      setSearchVal={setSearchVal}\r\n      searchVal={searchVal}\r\n      createTodo={createTodo}\r\n      updateTodo={updateTodo}\r\n      deleteTodo={deleteTodo}\r\n      userId={userId}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TodosPageContainer;\r\n","export const getTodos = (state) => {\r\n  return state.todos;\r\n}\r\n\r\nexport const getSearchVal = (state) => {\r\n  return state.searchVal;\r\n}\r\n\r\nexport const getSortVal = (state) => {\r\n  return state.sortVal;\r\n}\r\n\r\nexport const getUserId = (state) => {\r\n  return state.userId;\r\n}","import cl from './CommentsList.module.css';\r\nimport Loader from './../../../../UI/Loader/Loader';\r\n\r\n\r\nconst CommentsList = ({ comments, isComLoading }) => {\r\n  return (\r\n    <div className={cl.comments__container}>\r\n      {isComLoading \r\n        ? <Loader width=\"50\"/>\r\n        : <div className={cl.comments}>\r\n          {comments.map((com, index) => (\r\n            <div className={cl.comment} key={index}>\r\n              <h5>{com.email}</h5>\r\n              <div className={cl.comment__body}>{com.body}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentsList;\r\n","import cl from './PostPage.module.css';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport { useFetching } from './../../../../hooks/useFetching';\r\nimport Loader from './../../../UI/Loader/Loader';\r\nimport MyButton from './../../../UI/buttons/MyButton';\r\nimport { useHistory } from 'react-router-dom';\r\nimport CommentsList from './CommentsList/CommentsList';\r\nimport { postAPI } from './../../../../API/serviceAPI';\r\n\r\nconst PostPage = () => {\r\n  const router = useHistory();\r\n  const params = useParams();\r\n  const [post, setPost] = useState({});\r\n  const [comments, setComments] = useState([]);\r\n\r\n  const [fetchPostById, isLoading, error] = useFetching(async (id) => {\r\n    const response = await postAPI.getPostById(id);\r\n    setPost(response);\r\n  });\r\n  const [fetchComments, isComLoading, comError] = useFetching(async (id) => {\r\n    const response = await postAPI.getComments(id);\r\n    setComments(response);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPostById(params.id);\r\n    fetchComments(params.id);\r\n  }, []);\r\n  return (\r\n    <div className={cl.post__page}>\r\n      <div className={cl.post}>\r\n        <h1 className={cl.post__header}>Post {params.id}</h1>\r\n        {isLoading ? (\r\n          <Loader width=\"50\"/>\r\n        ) : (\r\n          <div className={cl.post__content}>\r\n            <div className={cl.post__title}>{post.title}</div>\r\n            <div className={cl.post__body}>{post.body}</div>\r\n          </div>\r\n        )}\r\n        <h2 className={cl.comments__header}>Comments</h2>\r\n        <CommentsList comments={comments} isComLoading={isComLoading} />\r\n        <MyButton onClick={() => router.goBack()} variant=\"contained\" customStyle={{color: '#fff'}}>\r\n          Back\r\n        </MyButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostPage;\r\n","export const getPagesCount = (totalCount, limit) => {\r\n  return Math.ceil(totalCount / limit);\r\n};","const ADD_POSTS = 'ADD_POSTS';\r\nconst SET_TOTAL_PAGES = 'SET_TOTAL_PAGES';\r\nconst SET_PAGE = 'SET_PAGE';\r\nconst SET_SORT_VAL = 'SET_SORT_VAL';\r\n\r\nexport const postReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case ADD_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, ...action.newPosts],\r\n      }\r\n      case SET_TOTAL_PAGES:\r\n        return {\r\n          ...state,\r\n          totalPages: action.totalPages,\r\n        }\r\n      case SET_PAGE:\r\n        return {\r\n          ...state,\r\n          page: action.page,\r\n        }\r\n      case SET_SORT_VAL:\r\n        return {\r\n          ...state,\r\n          sortVal: action.sortVal,\r\n        }\r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPostsAC = (newPosts) => ({type: ADD_POSTS, newPosts});\r\nexport const setTotalPagesAC = (totalPages) => ({type: SET_TOTAL_PAGES, totalPages});\r\nexport const setPageAC = (page) => ({type: SET_PAGE, page});\r\nexport const setSortValAC = (sortVal) => ({type: SET_SORT_VAL, sortVal});","import cl from \"./PostItem.module.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport MyButton from \"./../../../UI/buttons/MyButton\";\r\n\r\nconst PostItem = ({ item, index }) => {\r\n  const post = { ...item };\r\n  const router = useHistory();\r\n  return (\r\n    <div key={post.id} className={cl.post}>\r\n      <div className={cl.post__header}>\r\n        <span className={cl.post__number}> {post.id} </span>\r\n        <div className={cl.post__title}> {post.title} </div>\r\n      </div>{\" \"}\r\n      <div className={cl.post__body}> {post.body} </div>\r\n      <div className={cl.btn__container}>\r\n        <MyButton\r\n          onClick={() => router.push(`/posts/${post.id}`)}\r\n          customStyle={{ color: \"#fff\" }}\r\n          variant=\"contained\"\r\n        >\r\n          Open\r\n        </MyButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import cl from './FilterPosts.module.css';\r\nimport MySelect from './../../../UI/select/MySelect';\r\n\r\nconst FilterPosts = ({\r\n  sortVal,\r\n  setSortVal,\r\n  limit,\r\n}) => {\r\n  return (\r\n    <div className={cl.filter__post}>\r\n      <MySelect\r\n          defaultValue=\"Sort by:\"\r\n          options={[\r\n            { value: 'id', name: 'number' },\r\n            { value: 'title', name: 'title' },\r\n            { value: 'body', name: 'content' },\r\n          ]}\r\n          value={sortVal}\r\n          callback={setSortVal}\r\n        />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterPosts;\r\n","import cl from './PostsPage.module.css';\r\nimport Loader from './../../UI/Loader/Loader';\r\nimport ItemsList from './../../common/ItemsList/ItemsList';\r\nimport PostItem from './PostItem/PostItem';\r\nimport FilterPosts from './FilterPosts/FilterPosts';\r\n\r\nconst PostsPage = ({\r\n  sortVal,\r\n  setSortVal,\r\n  limit,\r\n  postsError,\r\n  isPostsLoading,\r\n  sortedPosts,\r\n  lastElement,\r\n  posts\r\n}) => {\r\n  return (\r\n    <div className={cl.posts__page}>\r\n      <div className={cl.form__header}>\r\n        <h2 className={cl.form__title}>Posts</h2>\r\n        <div className={cl.filter__container}>\r\n          <FilterPosts\r\n            sortVal={sortVal}\r\n            setSortVal={setSortVal}\r\n            limit={limit}\r\n          />\r\n        </div>\r\n      </div>\r\n      {postsError && <h1>Some error</h1>}\r\n      {isPostsLoading && <Loader width=\"50\" />}\r\n      <div className={cl.posts__container}>\r\n        <ItemsList\r\n          items={sortedPosts}\r\n          isListLoading={isPostsLoading}\r\n          Component={PostItem}\r\n          itemsName=\"posts\"\r\n        />\r\n      </div>\r\n      <div className={cl.observer} ref={lastElement}></div>\r\n      {!!posts.length && isPostsLoading && <Loader width={50} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostsPage;\r\n","import { useEffect, useRef, useContext } from 'react';\r\nimport { useFetching } from './../../../hooks/useFetching';\r\nimport { getPagesCount } from '../../../utils/pages.js';\r\nimport { useObserver } from './../../../hooks/useObserver';\r\nimport { useSortedPosts } from './../../../hooks/useItems';\r\nimport { itemsAPI } from './../../../API/serviceAPI';\r\nimport { postContext } from './../../../context';\r\nimport { getPosts, getSortVal, getTotalPages, getLimit, getPage } from './../../../selectors/post-selector';\r\nimport { addPostsAC, setPageAC, setTotalPagesAC, setSortValAC } from './../../../reducers/post-reducer';\r\nimport PostsPage from './PostsPage';\r\n\r\nconst PostsPageContainer = () => {\r\n  const [state, dispatch] = useContext(postContext);\r\n\r\n  const posts = getPosts(state);\r\n  const sortVal = getSortVal(state);\r\n  const totalPages = getTotalPages(state);\r\n  const limit = getLimit(state);\r\n  const page = getPage(state);\r\n\r\n  const addPosts = (posts) => (dispatch(addPostsAC(posts)));\r\n  const setTotalPages = (pagesCount) => (dispatch(setTotalPagesAC(pagesCount)));\r\n  const setPage = (page) => (dispatch(setPageAC(page)));\r\n  const setSortVal = (sortVal) => (dispatch(setSortValAC(sortVal)));\r\n  const sortedPosts = useSortedPosts(posts, sortVal);\r\n  const lastElement = useRef();\r\n  \r\n  const [fetchPosts, isPostsLoading, postsError] = useFetching(\r\n    async (limit, page) => {\r\n      const response = await itemsAPI.getAllItems('posts', limit, page);\r\n      addPosts(response.data);\r\n      const totalCount = response.headers['x-total-count'];\r\n      setTotalPages(getPagesCount(totalCount, limit));\r\n    }\r\n  );\r\n\r\n  useObserver(lastElement, page < totalPages, isPostsLoading, () =>\r\n    setPage(page + 1)\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchPosts(limit, page);\r\n  }, [page]);\r\n\r\n  return (\r\n    <PostsPage\r\n      sortVal={sortVal}\r\n      setSortVal={setSortVal}\r\n      postsError={postsError}\r\n      isPostsLoading={isPostsLoading}\r\n      sortedPosts={sortedPosts}\r\n      lastElement={lastElement}\r\n      posts={posts}\r\n      limit={limit}\r\n     />\r\n  );\r\n};\r\n\r\nexport default PostsPageContainer;\r\n","export const getPosts = (state) => {\r\n  return state.posts;\r\n} \r\n\r\nexport const getSortVal = (state) => {\r\n  return state.sortVal;\r\n} \r\n\r\nexport const getTotalPages = (state) => {\r\n  return state.totalPages;\r\n} \r\n\r\nexport const getLimit = (state) => {\r\n  return state.limit;\r\n} \r\n\r\nexport const getPage = (state) => {\r\n  return state.page;\r\n} ","import { useEffect, useRef } from 'react';\r\n\r\nexport const useObserver = (ref, canLoad, isLoading, cb) => {\r\n  const observer = useRef();\r\n  useEffect(() => {\r\n    if (isLoading) return;\r\n    if (observer.current) observer.current.disconnect();\r\n    \r\n    var callback = function (entries, observer) {\r\n      if(entries[0].isIntersecting && canLoad) {\r\n        cb();\r\n      }\r\n    };\r\n    observer.current = new IntersectionObserver(callback);\r\n    observer.current.observe(ref.current);\r\n  }, [isLoading]);\r\n}","function NoPage() {\r\n  return (\r\n    <h2>There is no page</h2>\r\n  );\r\n}\r\n\r\nexport default NoPage;","\r\nimport TodosPageContainer from './../components/Pages/TodosPage/TodosPageContainer';\r\nimport PostPage from './../components/Pages/PostsPage/PostPage/PostPage';\r\nimport PostsPageContainer from './../components/Pages/PostsPage/PostsPageContainer';\r\nimport NoPage from './../components/Pages/NoPage/NoPage';\r\n\r\nexport const routes = [\r\n  {path: '/', component: TodosPageContainer, exact: true},\r\n  {path: '/posts/:id', component: PostPage, exact: false},\r\n  {path: '/posts', component: PostsPageContainer, exact: false},\r\n  {path: '/nopage', component: NoPage, exact: false},\r\n];","import { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { routes } from './../../router/routes';\r\n\r\nfunction Pages({state}) {\r\n  return (\r\n    <Switch>\r\n      {routes.map((route) => (\r\n        <Route\r\n          key={route.path}\r\n          render={() => {\r\n            const Component = route.component;\r\n            return <Component />\r\n            }}\r\n          path={route.path}\r\n          exact={route.exact}\r\n        />\r\n      ))}\r\n      <Redirect to=\"/\"/>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default Pages;\r\n","export const store = {\r\n  todoState: {\r\n    todos: [],\r\n    searchVal: '',\r\n    sortVal: 'all',\r\n    userId: 1,\r\n  },\r\n  postState: {\r\n    posts: [],\r\n    sortVal: 'id',\r\n    totalPages: 0,\r\n    limit: 10,\r\n    page: 1,\r\n  },\r\n}\r\n","import cl from './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Pages from './components/Pages/Pages';\r\nimport { useReducer } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { todoReducer } from './reducers/todo-reducer';\r\nimport { postReducer } from './reducers/post-reducer';\r\nimport { store } from './store/store';\r\nimport { todoContext, postContext } from './context';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#fe6323',\r\n    },\r\n    warning: {\r\n      main: '#dc3545',\r\n    },\r\n  }\r\n});\r\n\r\nfunction App() {\r\n  const [todoState, todoDispatch] = useReducer(todoReducer, store.todoState);\r\n  const [postState, postDispatch] = useReducer(postReducer, store.postState);\r\n\r\n  return (\r\n    <postContext.Provider value={[postState, postDispatch]}>\r\n      <todoContext.Provider value={[todoState, todoDispatch]}>\r\n        <div className={cl.app}>\r\n          <ThemeProvider theme={theme}>\r\n            <Router>\r\n              <Navbar />\r\n              <Pages />\r\n            </Router>\r\n          </ThemeProvider>\r\n        </div>\r\n      </todoContext.Provider>\r\n    </postContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todo\":\"TodoItem_todo__2u0X2\",\"todo__header\":\"TodoItem_todo__header__3FygK\",\"todo__body\":\"TodoItem_todo__body__JhJCq\",\"todo__content\":\"TodoItem_todo__content__7yqoC\",\"completed\":\"TodoItem_completed__gMQ2m\",\"buttons\":\"TodoItem_buttons__zJ0Ug\",\"todo__loading\":\"TodoItem_todo__loading__1fF1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Navbar_header__2HUd3\",\"appLogo\":\"Navbar_appLogo__ByAXn\",\"nav__list\":\"Navbar_nav__list__2ZFBX\",\"nav__item\":\"Navbar_nav__item__qhGnA\",\"nav__link\":\"Navbar_nav__link__39DRm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post__page\":\"PostPage_post__page__jneUP\",\"post\":\"PostPage_post__3bhLM\",\"post__header\":\"PostPage_post__header__3aCF8\",\"post__content\":\"PostPage_post__content__1BDHO\",\"post__title\":\"PostPage_post__title__2imgV\",\"post__body\":\"PostPage_post__body__2TDg-\",\"comments__header\":\"PostPage_comments__header__1eV0g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"MyModal_modal__3AnT8\",\"modal_active\":\"MyModal_modal_active__ce3eM\",\"modalContent\":\"MyModal_modalContent__10JT7\",\"modalContent_active\":\"MyModal_modalContent_active__-OcRb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__page\":\"PostsPage_posts__page__1Y4pI\",\"form__header\":\"PostsPage_form__header__XsZqc\",\"form__title\":\"PostsPage_form__title__U3BBL\",\"filter__container\":\"PostsPage_filter__container__2a3ag\",\"observer\":\"PostsPage_observer__a8Ngi\",\"posts__container\":\"PostsPage_posts__container__3bTzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"PostItem_post__nwQac\",\"post__header\":\"PostItem_post__header__3_4BH\",\"post__number\":\"PostItem_post__number__peNKn\",\"post__body\":\"PostItem_post__body__-7S7G\",\"btn__container\":\"PostItem_btn__container__2rPG1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todos__page\":\"TodosPage_todos__page__2BHdw\",\"form__header\":\"TodosPage_form__header__3MW4S\",\"todos__content\":\"TodosPage_todos__content__2RPPT\",\"todos__loader\":\"TodosPage_todos__loader__19BQK\",\"todos__list\":\"TodosPage_todos__list__3SjDH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalInputContainer\":\"TodoModal_modalInputContainer__2nzu1\",\"modalInput\":\"TodoModal_modalInput__1OHkI\",\"modalBtns\":\"TodoModal_modalBtns__2Jlgs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments__container\":\"CommentsList_comments__container__1cYSl\",\"comment\":\"CommentsList_comment__ddmJW\",\"comment__body\":\"CommentsList_comment__body__pmkHl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addTodo\":\"AddTodoForm_addTodo__1Lymk\",\"form\":\"AddTodoForm_form__33zw1\",\"btnContainer\":\"AddTodoForm_btnContainer__1InpM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterTodo\":\"FilterTodo_filterTodo__1ZR-d\",\"textfield\":\"FilterTodo_textfield__3x-Ie\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noItems\":\"ItemsList_noItems__2sM_v\"};"],"sourceRoot":""}